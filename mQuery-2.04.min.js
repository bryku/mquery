// micro framework (mico jquery alternative 4% of size) - drburnett 2020
var _version=2.04;function _(a){let b=document.querySelectorAll(a);return"window"===a?b[0]=window:"document"===a?b[0]=document:"body"==a&&(b[0]=body),{_nodelist:b,_query:a,_loop:_loop,..._proto}}function _loop(b,c){var a;return this._nodelist.forEach((d,e,f)=>{a=b(d,c,e,f)}),"undefined"===a?this:a}var _proto={size:function(){return this._loop(a=>({width:a.width,height:a.height}),arguments)},click:function(){return this._loop(a=>{a.click()},arguments)},classAdd:function(){return this._loop((b,c)=>{b.classList.add(c[0])},arguments)},classRemove:function(){return this._loop((b,c)=>{b.classList.remove(c[0])},arguments)},classToggle:function(){return this._loop((b,c)=>{b.classList.toggle(c[0])},arguments)},classContains:function(){return this._loop((b,c)=>b.classList.contains(c[0]),arguments)},classBool:function(){return this._loop((b,c)=>{!0===c[0]?b.classList.add(c[1]):b.classList.add(c[2])},arguments)},style:function(){return this._loop((b,c)=>c[1]?void(b.style[c[0]]=c[1]):b.style[c[0]]||!1,arguments)},html:function(){return this._loop((b,c)=>c[0]?void(b.innerHTML=c[0]):b.innerHTML,arguments)},htmlAppend:function(){return this._loop((b,c)=>{b.innerHTML+=c[0]},arguments)},htmlPrepend:function(){return this._loop((b,c)=>{b.innerHTML=c[0]+b.innerHTML},arguments)},htmlReplace:function(){return this._loop((b,c)=>{var a=c[0].match(/\/(.*?)\/(.*?)$/);b.innerHTML=a?b.innerHTML.replace(new RegExp(a[1],a[2]),c[1]):b.innerHTML.replace(c[0],c[1])},arguments)},htmlBool:function(){return this._loop((b,c)=>{b.innerHTML=!0===c[0]?c[1]:c[2]},arguments)},remove:function(){return this._loop(a=>{a.remove()},arguments)},forEach:function(){return this._loop((b,c,a,d)=>{c[0](b,a,d)},arguments)},attr:function(){return this._loop((b,c)=>{if(!c[1]&&"value"==c[0])return b.value;return c[1]||"style"!=c[0]?c[1]?void("value"==c[0]?b.value=c[1]:"style"==c[0]?b.value=c[1]:b.setAttribute(c[0],c[1])):b.getAttribute(c[0]):b.style.cssText},arguments)},event:function(){return this._loop((b,c)=>{b.addEventListener(c[0],c[1])},arguments)},update:function(a){_ajax(a,this._query)},formParse:function(){return this._loop(()=>{var a={};return _(this._query+" [name]")._nodelist.forEach(b=>{a[b.name]=b.value}),a},arguments)}},_ajax=(a,b,c,d,e)=>{var f=new XMLHttpRequest;b&&(f.callback=b),c&&(f.onerror=c,f.onabort=c,f.ontimeout=c),d&&(f.onloadstart=d),e&&(f.onloadend=e),f.onreadystatechange=function(){if(!(4==this.readyState&&200==this.status))4==this.readyState&&200!==this.status&&this.onerror&&this.onerror(this);else if("string"==typeof this.callback)_(this.callback).html(this.responseText);else{let a=!1;try{a=this.responseText}catch(b){a=!1}this.callback(this.responseText,a)}},f.open("GET",a,!0),f.send()};
